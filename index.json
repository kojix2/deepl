{"repository_name":"deepl-cli","body":"# DeepL CLI\n\n[![build](https://github.com/kojix2/deepl-cli/actions/workflows/build.yml/badge.svg)](https://github.com/kojix2/deepl-cli/actions/workflows/build.yml)\n\nA simple command-line interface (CLI) tool for translating text using the [DeepL API](https://www.deepl.com/pro-api/), written in Crystal programming language.\n\n## Prerequisites\n\n[Create a API key for DeepL](https://www.deepl.com/pro-api), then set it as an environment variable:\n\n```sh\nexport DEEPL_AUTH_KEY=your_api_key_here\n```\n\n## Installation\n\n### Download\n\n- Download Linux binary from [Releases](https://github.com/kojix2/deepl-cli/releases)\n- unzip file: `tar -xvf deepl.tar.gz`\n- move file to executable path: `sudo mv deepl /usr/local/bin/`\n- Binaries for Linux are statically linked, but not for macOS. homebrew is recommended for macOS.\n\n### Homebrew (macOS)\n\n```sh\nbrew install kojix2/brew/deepl-cli\n```\n\n### Compilation from source code\n\n```sh\ngit clone https://github.com/kojix2/deepl-cli\ncd deepl-cli\nshards build --release\n# sudo cp bin/deepl /usr/local/bin\n```\n\nA compiled binary file will be created in the `bin` directory.\n\n### Proxy settings (optional)\n\n```sh\nexport HTTP_PROXY=http://[IP]:[port]\nexport HTTPS_PROXY=https://[IP]:[port]\n```\n\n## Usage\n\n```sh\ndeepl [options] <file>\n```\n\n### Arguments\n\nOptions available for the CLI tool:\n\n    -i, --input TEXT                 Input text\n    -f, --from [LANG]                Source language [AUTO]\n    -t, --to [LANG]                  Target language [EN]\n    -g, --glossary ID             Glossary ID\n    -F, --formality OPT              Formality (default more less)\n    -A, --ansi                       Do not remove ANSI escape codes\n    -u, --usage                      Check Usage and Limits\n    -d, --debug                      Show backtrace on error\n    -v, --version                    Show version\n    -h, --help                       Show this help\n\nNote that since this tool is used on a terminal, ANSI escape sequences are removed by default.\n\n### Examples\n\nTo translate the text \"Hola mundo\" from Spanish (ES) to English (EN):\n\n```sh\ndeepl -i \"Hola mundo\" -f ES -t EN\n# Hello world\n```\n\nShort options:\n\n```sh\ndeepl -i \"Hola mundo\" -f es\n# Hello world\n```\n\nFrom stream:\n\n```sh\necho \"Hola mundo\" | deepl -f ES -t EN\n# Hello world\n```\n\nMultiple lines:\nPress `Ctrl+D` when finished typing.\nThis is especially useful when copy-pasting from the clipboard.\n\n```sh\ndeepl -f es\n# Hola\n# mundo\n# Ctrl + D\n```\n\nDisplay a list of available languages\n\n```sh\ndeepl -f\n```\n\n```sh\ndeepl -t\n```\n\nOutput usage information\n\n```sh\ndeepl -u\n\n# https://api.deepl.com/v2\n# character_count: 614842\n# character_limit: 1000000000000\n```\n\n## Contributing\n\nIf you would like to contribute to the development of this CLI tool, please follow the steps below:\n\n1. Fork this repository\n2. Create your feature branch (`git checkout -b my-new-feature`)\n3. Commit your changes (`git commit -am 'Add some feature'`)\n4. Push to the branch (`git push origin my-new-feature`)\n5. Create a new Pull Request\n\n## License\n\nThis project is licensed under the MIT License.\n\nHappy translating!\n","program":{"html_id":"deepl-cli/toplevel","path":"toplevel.html","kind":"module","full_name":"Top Level Namespace","name":"Top Level Namespace","abstract":false,"locations":[],"repository_name":"deepl-cli","program":true,"enum":false,"alias":false,"const":false,"types":[{"html_id":"deepl-cli/Crest","path":"Crest.html","kind":"module","full_name":"Crest","name":"Crest","abstract":false,"locations":[{"filename":"lib/crest/src/crest.cr","line_number":36,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest.cr#L36"},{"filename":"lib/crest/src/crest/curlify.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/curlify.cr#L1"},{"filename":"lib/crest/src/crest/exceptions.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/exceptions.cr#L3"},{"filename":"lib/crest/src/crest/form.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/form.cr#L1"},{"filename":"lib/crest/src/crest/forms/data_form.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/forms/data_form.cr#L3"},{"filename":"lib/crest/src/crest/forms/json_form.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/forms/json_form.cr#L3"},{"filename":"lib/crest/src/crest/forms/urlencoded_form.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/forms/urlencoded_form.cr#L3"},{"filename":"lib/crest/src/crest/logger.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/logger.cr#L3"},{"filename":"lib/crest/src/crest/loggers/common_logger.cr","line_number":8,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/loggers/common_logger.cr#L8"},{"filename":"lib/crest/src/crest/params_decoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/params_decoder.cr#L1"},{"filename":"lib/crest/src/crest/params_encoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/params_encoder.cr#L1"},{"filename":"lib/crest/src/crest/params_encoders/enumerated_flat_params_encoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/params_encoders/enumerated_flat_params_encoder.cr#L1"},{"filename":"lib/crest/src/crest/params_encoders/flat_params_encoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/params_encoders/flat_params_encoder.cr#L1"},{"filename":"lib/crest/src/crest/params_encoders/nested_params_encoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/params_encoders/nested_params_encoder.cr#L1"},{"filename":"lib/crest/src/crest/params_encoders/zero_enumerated_flat_params_encoder.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/params_encoders/zero_enumerated_flat_params_encoder.cr#L1"},{"filename":"lib/crest/src/crest/redirector.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/redirector.cr#L1"},{"filename":"lib/crest/src/crest/request.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/request.cr#L3"},{"filename":"lib/crest/src/crest/resource.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/resource.cr#L3"},{"filename":"lib/crest/src/crest/response.cr","line_number":5,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/response.cr#L5"},{"filename":"src/ext/crest.cr","line_number":10,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/ext/crest.cr#L10"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"doc":"This module's static methods are the entry point for using the Crest client.\n\nSupported HTTP methods: `get`, `put`, `post`, `patch` `delete`, `options`, `head`\n\nExamples:\n\n```\nCrest.get(\n  \"http://httpbin.org/get\",\n  headers: {\"Content-Type\" => \"image/jpg\"},\n  params: {\"lang\" => \"en\"}\n)\n\nCrest.post(\n  \"http://httpbin.org/post\",\n  headers: {\"Access-Token\" => [\"secret1\", \"secret2\"]},\n  form: {\"fizz\" => \"buz\"},\n  logging: true,\n)\n\nCrest.get(\"http://httpbin.org/stream/5\") do |response|\n  while line = response.body_io.gets\n    puts line\n  end\nend\n```","summary":"<p>This module's static methods are the entry point for using the Crest client.</p>","types":[{"html_id":"deepl-cli/Crest/Request","path":"Crest/Request.html","kind":"class","full_name":"Crest::Request","name":"Request","abstract":false,"superclass":{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"lib/crest/src/crest/request.cr","line_number":57,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/lib/crest/src/crest/request.cr#L57"},{"filename":"src/ext/crest.cr","line_number":11,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/ext/crest.cr#L11"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/Crest","kind":"module","full_name":"Crest","name":"Crest"},"doc":"A class that used to make the requests\nThe result of a `Crest::Request` is a `Crest::Response` object.\n\nSimple example:\n\n```\nrequest = Crest::Request.new(:post, \"http://httpbin.org/post\", {\"age\" => 27}, params: {:name => \"Kurt\"})\nrequest.execute\n\nCrest::Request.execute(:post, \"http://httpbin.org/post\", {\"age\" => 27}, json: true)\n\nCrest::Request.post(\"http://httpbin.org/post\", {\"age\" => 27}, json: true)\n```\n\nBlock style:\n\n```\nrequest = Crest::Request.new(:get, \"http://httpbin.org/get\") do |request|\n  request.headers.add(\"foo\", \"bar\")\n  request.user = \"username\"\n  request.password = \"password\"\nend\n\nresponse = request.execute\n```\n\nMandatory parameters:\n- `method`\n- `url`\n\nOptional parameters:\n- `headers` a hash containing the request headers\n- `cookies` a hash containing the request cookies\n- `form` a hash containing form data (or a raw string)\n- `params` a hash that represent query params (or a raw string) - a string separated from the preceding part by a question mark (?)\n   and a sequence of attribute–value pairs separated by a delimiter (&).\n- `params_encoder` params encoder (default to `Crest::FlatParamsEncoder`)\n- `auth` access authentication method `basic` or `digest` (default to `basic`)\n- `user` and `password` for authentication\n- `tls` configuring TLS settings\n- `p_addr`, `p_port`, `p_user`, `p_pass` for proxy\n- `json` make a JSON request with the appropriate HTTP headers (default to `false`)\n- `multipart` make a multipart request with the appropriate HTTP headers even if not sending a file (default to `false`)\n- `user_agent` set \"User-Agent\" HTTP header (default to `Crest::USER_AGENT`)\n- `max_redirects` maximum number of redirects (default to `10`)\n- `logging` enable logging (default to `false`)\n- `logger` set logger (default to `Crest::CommonLogger`)\n- `handle_errors` error handling (default to `true`)\n- `close_connection` close the connection after request is completed (default to `true`)\n- `http_client` instance of `HTTP::Client`\n- `read_timeout` read timeout (default to `nil`)\n- `write_timeout` write timeout (default to `nil`)\n- `connect_timeout` connect timeout (default to `nil`)","summary":"<p>A class that used to make the requests The result of a <code><a href=\"../Crest/Request.html\">Crest::Request</a></code> is a <code>Crest::Response</code> object.</p>","constructors":[{"html_id":"new(method:Symbol,url:String,form={}ofString=>String,**args)-class-method","name":"new","doc":"When block is not given.","summary":"<p>When block is not given.</p>","abstract":false,"args":[{"name":"method","external_name":"method","restriction":"Symbol"},{"name":"url","external_name":"url","restriction":"String"},{"name":"form","default_value":"{} of String => String","external_name":"form","restriction":""}],"args_string":"(method : Symbol, url : String, form = {} of String => String, **args)","args_html":"(method : Symbol, url : String, form = {} <span class=\"k\">of</span> <span class=\"t\">String</span> <span class=\"o\">=&gt;</span> <span class=\"t\">String</span>, **args)","location":{"filename":"src/ext/crest.cr","line_number":23,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/ext/crest.cr#L23"},"def":{"name":"new","args":[{"name":"method","external_name":"method","restriction":"Symbol"},{"name":"url","external_name":"url","restriction":"String"},{"name":"form","default_value":"{} of String => String","external_name":"form","restriction":""}],"double_splat":{"name":"args","external_name":"args","restriction":""},"visibility":"Public","body":"_ = allocate\n_.initialize(method, url, form, **args)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]}]},{"html_id":"deepl-cli/DeepL","path":"DeepL.html","kind":"module","full_name":"DeepL","name":"DeepL","abstract":false,"locations":[{"filename":"src/deepl.cr","line_number":10,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl.cr#L10"},{"filename":"src/deepl/app.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L1"},{"filename":"src/deepl/exceptions.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L1"},{"filename":"src/deepl/options.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L1"},{"filename":"src/deepl/parser.cr","line_number":5,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/parser.cr#L5"},{"filename":"src/deepl/translator.cr","line_number":6,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L6"},{"filename":"src/deepl/version.cr","line_number":1,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/version.cr#L1"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"VERSION","name":"VERSION","value":"{{ (`shards version /home/runner/work/deepl-cli/deepl-cli/src/deepl`).chomp.stringify }}"}],"types":[{"html_id":"deepl-cli/DeepL/Action","path":"DeepL/Action.html","kind":"enum","full_name":"DeepL::Action","name":"Action","abstract":false,"ancestors":[{"html_id":"deepl-cli/Enum","kind":"struct","full_name":"Enum","name":"Enum"},{"html_id":"deepl-cli/Comparable","kind":"module","full_name":"Comparable","name":"Comparable"},{"html_id":"deepl-cli/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/options.cr","line_number":2,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L2"}],"repository_name":"deepl-cli","program":false,"enum":true,"alias":false,"const":false,"constants":[{"id":"Text","name":"Text","value":"0_u8"},{"id":"Document","name":"Document","value":"1_u8"},{"id":"FromLang","name":"FromLang","value":"2_u8"},{"id":"ToLang","name":"ToLang","value":"3_u8"},{"id":"Usage","name":"Usage","value":"4_u8"},{"id":"Version","name":"Version","value":"5_u8"},{"id":"Help","name":"Help","value":"6_u8"}],"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"instance_methods":[{"html_id":"document?-instance-method","name":"document?","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":4,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L4"},"def":{"name":"document?","visibility":"Public","body":"self == Document"}},{"html_id":"from_lang?-instance-method","name":"from_lang?","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":5,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L5"},"def":{"name":"from_lang?","visibility":"Public","body":"self == FromLang"}},{"html_id":"help?-instance-method","name":"help?","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":9,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L9"},"def":{"name":"help?","visibility":"Public","body":"self == Help"}},{"html_id":"text?-instance-method","name":"text?","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L3"},"def":{"name":"text?","visibility":"Public","body":"self == Text"}},{"html_id":"to_lang?-instance-method","name":"to_lang?","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":6,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L6"},"def":{"name":"to_lang?","visibility":"Public","body":"self == ToLang"}},{"html_id":"usage?-instance-method","name":"usage?","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":7,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L7"},"def":{"name":"usage?","visibility":"Public","body":"self == Usage"}},{"html_id":"version?-instance-method","name":"version?","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":8,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L8"},"def":{"name":"version?","visibility":"Public","body":"self == Version"}}]},{"html_id":"deepl-cli/DeepL/ApiKeyError","path":"DeepL/ApiKeyError.html","kind":"class","full_name":"DeepL::ApiKeyError","name":"ApiKeyError","abstract":false,"superclass":{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},"ancestors":[{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},{"html_id":"deepl-cli/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/exceptions.cr","line_number":6,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L6"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/exceptions.cr","line_number":7,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L7"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]},{"html_id":"deepl-cli/DeepL/App","path":"DeepL/App.html","kind":"class","full_name":"DeepL::App","name":"App","abstract":false,"superclass":{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/app.cr","line_number":2,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L2"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/app.cr","line_number":6,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L6"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"option:Options-instance-method","name":"option","abstract":false,"location":{"filename":"src/deepl/app.cr","line_number":4,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L4"},"def":{"name":"option","return_type":"Options","visibility":"Public","body":"@option"}},{"html_id":"parser:Parser-instance-method","name":"parser","abstract":false,"location":{"filename":"src/deepl/app.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L3"},"def":{"name":"parser","return_type":"Parser","visibility":"Public","body":"@parser"}},{"html_id":"run-instance-method","name":"run","abstract":false,"location":{"filename":"src/deepl/app.cr","line_number":11,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L11"},"def":{"name":"run","visibility":"Public","body":"begin\n  case option.action\n  when Action::Text\n    translate_text\n  when Action::Document\n    translate_document\n  when Action::FromLang\n    show_source_languages\n  when Action::ToLang\n    show_target_languages\n  when Action::Usage\n    show_usage\n  when Action::Version\n    show_version\n  when Action::Help\n    show_help\n  else\n    raise(ArgumentError.new(\"Invalid action: #{option.action}\"))\n  end\n  exit(0)\nrescue ex\n  if DeepLError.debug\n    STDERR.puts(\"[deepl-cli] ERROR: #{ex.class} #{ex.message}\\n#{ex.backtrace.join(\"\\n\")}\")\n  else\n    STDERR.puts(\"[deepl-cli] ERROR: #{ex.class} #{ex.message}\")\n  end\n  exit(1)\nend"}},{"html_id":"show_help-instance-method","name":"show_help","abstract":false,"location":{"filename":"src/deepl/app.cr","line_number":108,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L108"},"def":{"name":"show_help","visibility":"Public","body":"puts(parser)"}},{"html_id":"show_source_languages-instance-method","name":"show_source_languages","abstract":false,"location":{"filename":"src/deepl/app.cr","line_number":81,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L81"},"def":{"name":"show_source_languages","visibility":"Public","body":"translator = DeepL::Translator.new\ntranslator.source_languages.each do |lang|\n  language, name = lang.values.map(&.to_s)\n  puts(\"- #{language.ljust(7)}#{name}\")\nend\n"}},{"html_id":"show_target_languages-instance-method","name":"show_target_languages","abstract":false,"location":{"filename":"src/deepl/app.cr","line_number":89,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L89"},"def":{"name":"show_target_languages","visibility":"Public","body":"translator = DeepL::Translator.new\ntranslator.target_languages.each do |lang|\n  language, name = lang.values.map(&.to_s)\n  puts(\"- #{language.ljust(7)}#{name.ljust(20)}\")\nend\n"}},{"html_id":"show_usage-instance-method","name":"show_usage","abstract":false,"location":{"filename":"src/deepl/app.cr","line_number":98,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L98"},"def":{"name":"show_usage","visibility":"Public","body":"translator = DeepL::Translator.new\nputs(translator.api_url_base)\nputs(translator.usage.map do |k, v|\n  \"#{k}: #{v}\"\nend.join(\"\\n\"))\n"}},{"html_id":"show_version-instance-method","name":"show_version","abstract":false,"location":{"filename":"src/deepl/app.cr","line_number":104,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L104"},"def":{"name":"show_version","visibility":"Public","body":"puts(DeepL::VERSION)"}},{"html_id":"translate_document-instance-method","name":"translate_document","abstract":false,"location":{"filename":"src/deepl/app.cr","line_number":61,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L61"},"def":{"name":"translate_document","visibility":"Public","body":"if option.input_text.empty?\nelse\n  raise(\"Invalid option: -i --input\")\nend\nif ARGV.empty?\n  raise(\"Input file is not specified\")\nend\noption.input_path = Path[ARGV.shift]\nSTDERR.puts(if ARGV.size == 1\n  \"[deepl-cli] File #{ARGV[0]} is ignored\"\nelse\n  \"[deepl-cli] Files #{ARGV.join(\", \")} are ignored\"\nend)\nSTDERR.puts(\"[deepl-cli] Start translating #{option.input_path}\")\nspinner = Term::Spinner.new(clear: true)\nspinner.run do\n  translator = DeepL::Translator.new\n  translator.translate(option)\nend\n"}},{"html_id":"translate_text-instance-method","name":"translate_text","abstract":false,"location":{"filename":"src/deepl/app.cr","line_number":40,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/app.cr#L40"},"def":{"name":"translate_text","visibility":"Public","body":"if option.input_text.empty?\n  option.input_text = ARGF.gets_to_end\nend\nif option.no_ansi\n  option.input_text = option.input_text.gsub(/\\e\\[[0-9;]*[mGKHF]/, \"\")\nend\ntranslated_text = \"\"\nspinner = Term::Spinner.new(clear: true)\nspinner.run do\n  translator = DeepL::Translator.new\n  translated_text = translator.translate(option)\nend\nputs(translated_text)\n"}}]},{"html_id":"deepl-cli/DeepL/AuthorizationError","path":"DeepL/AuthorizationError.html","kind":"class","full_name":"DeepL::AuthorizationError","name":"AuthorizationError","abstract":false,"superclass":{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},"ancestors":[{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},{"html_id":"deepl-cli/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/exceptions.cr","line_number":12,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L12"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/exceptions.cr","line_number":13,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L13"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]},{"html_id":"deepl-cli/DeepL/DeepLError","path":"DeepL/DeepLError.html","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError","abstract":false,"superclass":{"html_id":"deepl-cli/Exception","kind":"class","full_name":"Exception","name":"Exception"},"ancestors":[{"html_id":"deepl-cli/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/exceptions.cr","line_number":2,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L2"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"subclasses":[{"html_id":"deepl-cli/DeepL/ApiKeyError","kind":"class","full_name":"DeepL::ApiKeyError","name":"ApiKeyError"},{"html_id":"deepl-cli/DeepL/AuthorizationError","kind":"class","full_name":"DeepL::AuthorizationError","name":"AuthorizationError"},{"html_id":"deepl-cli/DeepL/DocumentNotReadyError","kind":"class","full_name":"DeepL::DocumentNotReadyError","name":"DocumentNotReadyError"},{"html_id":"deepl-cli/DeepL/DocumentTranslationError","kind":"class","full_name":"DeepL::DocumentTranslationError","name":"DocumentTranslationError"},{"html_id":"deepl-cli/DeepL/GlossaryNotFoundError","kind":"class","full_name":"DeepL::GlossaryNotFoundError","name":"GlossaryNotFoundError"},{"html_id":"deepl-cli/DeepL/QuotaExceededError","kind":"class","full_name":"DeepL::QuotaExceededError","name":"QuotaExceededError"},{"html_id":"deepl-cli/DeepL/RequestError","kind":"class","full_name":"DeepL::RequestError","name":"RequestError"},{"html_id":"deepl-cli/DeepL/TooManyRequestsError","kind":"class","full_name":"DeepL::TooManyRequestsError","name":"TooManyRequestsError"},{"html_id":"deepl-cli/DeepL/UnknownSubCommandError","kind":"class","full_name":"DeepL::UnknownSubCommandError","name":"UnknownSubCommandError"}],"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"class_methods":[{"html_id":"debug:Bool-class-method","name":"debug","abstract":false,"location":{"filename":"src/deepl/exceptions.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L3"},"def":{"name":"debug","return_type":"Bool","visibility":"Public","body":"@@debug"}},{"html_id":"debug=(debug:Bool)-class-method","name":"debug=","abstract":false,"args":[{"name":"debug","external_name":"debug","restriction":"Bool"}],"args_string":"(debug : Bool)","args_html":"(debug : Bool)","location":{"filename":"src/deepl/exceptions.cr","line_number":3,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L3"},"def":{"name":"debug=","args":[{"name":"debug","external_name":"debug","restriction":"Bool"}],"visibility":"Public","body":"@@debug = debug"}}]},{"html_id":"deepl-cli/DeepL/DocumentNotReadyError","path":"DeepL/DocumentNotReadyError.html","kind":"class","full_name":"DeepL::DocumentNotReadyError","name":"DocumentNotReadyError","abstract":false,"superclass":{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},"ancestors":[{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},{"html_id":"deepl-cli/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/exceptions.cr","line_number":48,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L48"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/exceptions.cr","line_number":49,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L49"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]},{"html_id":"deepl-cli/DeepL/DocumentTranslationError","path":"DeepL/DocumentTranslationError.html","kind":"class","full_name":"DeepL::DocumentTranslationError","name":"DocumentTranslationError","abstract":false,"superclass":{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},"ancestors":[{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},{"html_id":"deepl-cli/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/exceptions.cr","line_number":36,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L36"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/exceptions.cr","line_number":37,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L37"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]},{"html_id":"deepl-cli/DeepL/GlossaryNotFoundError","path":"DeepL/GlossaryNotFoundError.html","kind":"class","full_name":"DeepL::GlossaryNotFoundError","name":"GlossaryNotFoundError","abstract":false,"superclass":{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},"ancestors":[{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},{"html_id":"deepl-cli/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/exceptions.cr","line_number":42,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L42"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/exceptions.cr","line_number":43,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L43"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]},{"html_id":"deepl-cli/DeepL/Options","path":"DeepL/Options.html","kind":"struct","full_name":"DeepL::Options","name":"Options","abstract":false,"superclass":{"html_id":"deepl-cli/Struct","kind":"struct","full_name":"Struct","name":"Struct"},"ancestors":[{"html_id":"deepl-cli/Struct","kind":"struct","full_name":"Struct","name":"Struct"},{"html_id":"deepl-cli/Value","kind":"struct","full_name":"Value","name":"Value"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/options.cr","line_number":12,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L12"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":12,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L12"},"def":{"name":"new","visibility":"Public","body":"x = allocate\nif x.responds_to?(:finalize)\n  ::GC.add_finalizer(x)\nend\nx\n"}}],"instance_methods":[{"html_id":"action:Action-instance-method","name":"action","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":13,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L13"},"def":{"name":"action","return_type":"Action","visibility":"Public","body":"@action"}},{"html_id":"action=(action:Action)-instance-method","name":"action=","abstract":false,"args":[{"name":"action","external_name":"action","restriction":"Action"}],"args_string":"(action : Action)","args_html":"(action : <a href=\"../DeepL/Action.html\">Action</a>)","location":{"filename":"src/deepl/options.cr","line_number":13,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L13"},"def":{"name":"action=","args":[{"name":"action","external_name":"action","restriction":"Action"}],"visibility":"Public","body":"@action = action"}},{"html_id":"context:String|Nil-instance-method","name":"context","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":20,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L20"},"def":{"name":"context","return_type":"String | ::Nil","visibility":"Public","body":"@context"}},{"html_id":"context=(context:String|Nil)-instance-method","name":"context=","abstract":false,"args":[{"name":"context","external_name":"context","restriction":"String | ::Nil"}],"args_string":"(context : String | Nil)","args_html":"(context : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":20,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L20"},"def":{"name":"context=","args":[{"name":"context","external_name":"context","restriction":"String | ::Nil"}],"visibility":"Public","body":"@context = context"}},{"html_id":"formality:String|Nil-instance-method","name":"formality","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":18,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L18"},"def":{"name":"formality","return_type":"String | ::Nil","visibility":"Public","body":"@formality"}},{"html_id":"formality=(formality:String|Nil)-instance-method","name":"formality=","abstract":false,"args":[{"name":"formality","external_name":"formality","restriction":"String | ::Nil"}],"args_string":"(formality : String | Nil)","args_html":"(formality : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":18,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L18"},"def":{"name":"formality=","args":[{"name":"formality","external_name":"formality","restriction":"String | ::Nil"}],"visibility":"Public","body":"@formality = formality"}},{"html_id":"glossary_id:String|Nil-instance-method","name":"glossary_id","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":19,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L19"},"def":{"name":"glossary_id","return_type":"String | ::Nil","visibility":"Public","body":"@glossary_id"}},{"html_id":"glossary_id=(glossary_id:String|Nil)-instance-method","name":"glossary_id=","abstract":false,"args":[{"name":"glossary_id","external_name":"glossary_id","restriction":"String | ::Nil"}],"args_string":"(glossary_id : String | Nil)","args_html":"(glossary_id : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":19,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L19"},"def":{"name":"glossary_id=","args":[{"name":"glossary_id","external_name":"glossary_id","restriction":"String | ::Nil"}],"visibility":"Public","body":"@glossary_id = glossary_id"}},{"html_id":"initialize-instance-method","name":"initialize","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":12,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L12"},"def":{"name":"initialize","visibility":"Public","body":""}},{"html_id":"input_path:Path-instance-method","name":"input_path","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":15,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L15"},"def":{"name":"input_path","return_type":"Path","visibility":"Public","body":"@input_path"}},{"html_id":"input_path=(input_path:Path)-instance-method","name":"input_path=","abstract":false,"args":[{"name":"input_path","external_name":"input_path","restriction":"Path"}],"args_string":"(input_path : Path)","args_html":"(input_path : Path)","location":{"filename":"src/deepl/options.cr","line_number":15,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L15"},"def":{"name":"input_path=","args":[{"name":"input_path","external_name":"input_path","restriction":"Path"}],"visibility":"Public","body":"@input_path = input_path"}},{"html_id":"input_text:String-instance-method","name":"input_text","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":14,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L14"},"def":{"name":"input_text","return_type":"String","visibility":"Public","body":"@input_text"}},{"html_id":"input_text=(input_text:String)-instance-method","name":"input_text=","abstract":false,"args":[{"name":"input_text","external_name":"input_text","restriction":"String"}],"args_string":"(input_text : String)","args_html":"(input_text : String)","location":{"filename":"src/deepl/options.cr","line_number":14,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L14"},"def":{"name":"input_text=","args":[{"name":"input_text","external_name":"input_text","restriction":"String"}],"visibility":"Public","body":"@input_text = input_text"}},{"html_id":"no_ansi:Bool-instance-method","name":"no_ansi","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":23,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L23"},"def":{"name":"no_ansi","return_type":"Bool","visibility":"Public","body":"@no_ansi"}},{"html_id":"no_ansi=(no_ansi:Bool)-instance-method","name":"no_ansi=","abstract":false,"args":[{"name":"no_ansi","external_name":"no_ansi","restriction":"Bool"}],"args_string":"(no_ansi : Bool)","args_html":"(no_ansi : Bool)","location":{"filename":"src/deepl/options.cr","line_number":23,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L23"},"def":{"name":"no_ansi=","args":[{"name":"no_ansi","external_name":"no_ansi","restriction":"Bool"}],"visibility":"Public","body":"@no_ansi = no_ansi"}},{"html_id":"output_format:String|Nil-instance-method","name":"output_format","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":22,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L22"},"def":{"name":"output_format","return_type":"String | ::Nil","visibility":"Public","body":"@output_format"}},{"html_id":"output_format=(output_format:String|Nil)-instance-method","name":"output_format=","abstract":false,"args":[{"name":"output_format","external_name":"output_format","restriction":"String | ::Nil"}],"args_string":"(output_format : String | Nil)","args_html":"(output_format : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":22,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L22"},"def":{"name":"output_format=","args":[{"name":"output_format","external_name":"output_format","restriction":"String | ::Nil"}],"visibility":"Public","body":"@output_format = output_format"}},{"html_id":"source_lang:String|Nil-instance-method","name":"source_lang","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":17,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L17"},"def":{"name":"source_lang","return_type":"String | ::Nil","visibility":"Public","body":"@source_lang"}},{"html_id":"source_lang=(source_lang:String|Nil)-instance-method","name":"source_lang=","abstract":false,"args":[{"name":"source_lang","external_name":"source_lang","restriction":"String | ::Nil"}],"args_string":"(source_lang : String | Nil)","args_html":"(source_lang : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":17,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L17"},"def":{"name":"source_lang=","args":[{"name":"source_lang","external_name":"source_lang","restriction":"String | ::Nil"}],"visibility":"Public","body":"@source_lang = source_lang"}},{"html_id":"split_sentences:String|Nil-instance-method","name":"split_sentences","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":21,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L21"},"def":{"name":"split_sentences","return_type":"String | ::Nil","visibility":"Public","body":"@split_sentences"}},{"html_id":"split_sentences=(split_sentences:String|Nil)-instance-method","name":"split_sentences=","abstract":false,"args":[{"name":"split_sentences","external_name":"split_sentences","restriction":"String | ::Nil"}],"args_string":"(split_sentences : String | Nil)","args_html":"(split_sentences : String | Nil)","location":{"filename":"src/deepl/options.cr","line_number":21,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L21"},"def":{"name":"split_sentences=","args":[{"name":"split_sentences","external_name":"split_sentences","restriction":"String | ::Nil"}],"visibility":"Public","body":"@split_sentences = split_sentences"}},{"html_id":"target_lang:String-instance-method","name":"target_lang","abstract":false,"location":{"filename":"src/deepl/options.cr","line_number":16,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L16"},"def":{"name":"target_lang","return_type":"String","visibility":"Public","body":"@target_lang"}},{"html_id":"target_lang=(target_lang:String)-instance-method","name":"target_lang=","abstract":false,"args":[{"name":"target_lang","external_name":"target_lang","restriction":"String"}],"args_string":"(target_lang : String)","args_html":"(target_lang : String)","location":{"filename":"src/deepl/options.cr","line_number":16,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/options.cr#L16"},"def":{"name":"target_lang=","args":[{"name":"target_lang","external_name":"target_lang","restriction":"String"}],"visibility":"Public","body":"@target_lang = target_lang"}}]},{"html_id":"deepl-cli/DeepL/Parser","path":"DeepL/Parser.html","kind":"class","full_name":"DeepL::Parser","name":"Parser","abstract":false,"superclass":{"html_id":"deepl-cli/OptionParser","kind":"class","full_name":"OptionParser","name":"OptionParser"},"ancestors":[{"html_id":"deepl-cli/OptionParser","kind":"class","full_name":"OptionParser","name":"OptionParser"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/parser.cr","line_number":6,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/parser.cr#L6"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/parser.cr","line_number":9,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/parser.cr#L9"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"opt:Options-instance-method","name":"opt","abstract":false,"location":{"filename":"src/deepl/parser.cr","line_number":7,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/parser.cr#L7"},"def":{"name":"opt","return_type":"Options","visibility":"Public","body":"@opt"}},{"html_id":"parse(args)-instance-method","name":"parse","doc":"Parses the passed *args* (defaults to `ARGV`), running the handlers associated to each option.","summary":"<p>Parses the passed <em>args</em> (defaults to <code>ARGV</code>), running the handlers associated to each option.</p>","abstract":false,"args":[{"name":"args","external_name":"args","restriction":""}],"args_string":"(args)","args_html":"(args)","location":{"filename":"src/deepl/parser.cr","line_number":87,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/parser.cr#L87"},"def":{"name":"parse","args":[{"name":"args","external_name":"args","restriction":""}],"visibility":"Public","body":"super(args)\nopt\n"}}]},{"html_id":"deepl-cli/DeepL/QuotaExceededError","path":"DeepL/QuotaExceededError.html","kind":"class","full_name":"DeepL::QuotaExceededError","name":"QuotaExceededError","abstract":false,"superclass":{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},"ancestors":[{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},{"html_id":"deepl-cli/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/exceptions.cr","line_number":18,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L18"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/exceptions.cr","line_number":19,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L19"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]},{"html_id":"deepl-cli/DeepL/RequestError","path":"DeepL/RequestError.html","kind":"class","full_name":"DeepL::RequestError","name":"RequestError","abstract":false,"superclass":{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},"ancestors":[{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},{"html_id":"deepl-cli/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/exceptions.cr","line_number":54,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L54"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new(exception:Exception)-class-method","name":"new","abstract":false,"args":[{"name":"exception","external_name":"exception","restriction":"Exception"}],"args_string":"(exception : Exception)","args_html":"(exception : Exception)","location":{"filename":"src/deepl/exceptions.cr","line_number":55,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L55"},"def":{"name":"new","args":[{"name":"exception","external_name":"exception","restriction":"Exception"}],"visibility":"Public","body":"_ = allocate\n_.initialize(exception)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}},{"html_id":"new(message:String)-class-method","name":"new","abstract":false,"args":[{"name":"message","external_name":"message","restriction":"String"}],"args_string":"(message : String)","args_html":"(message : String)","location":{"filename":"src/deepl/exceptions.cr","line_number":59,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L59"},"def":{"name":"new","args":[{"name":"message","external_name":"message","restriction":"String"}],"visibility":"Public","body":"_ = allocate\n_.initialize(message)\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]},{"html_id":"deepl-cli/DeepL/TooManyRequestsError","path":"DeepL/TooManyRequestsError.html","kind":"class","full_name":"DeepL::TooManyRequestsError","name":"TooManyRequestsError","abstract":false,"superclass":{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},"ancestors":[{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},{"html_id":"deepl-cli/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/exceptions.cr","line_number":24,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L24"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/exceptions.cr","line_number":25,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L25"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]},{"html_id":"deepl-cli/DeepL/Translator","path":"DeepL/Translator.html","kind":"class","full_name":"DeepL::Translator","name":"Translator","abstract":false,"superclass":{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},"ancestors":[{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/translator.cr","line_number":7,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L7"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"constants":[{"id":"API_URL_BASE_FREE","name":"API_URL_BASE_FREE","value":"\"https://api-free.deepl.com/v2\""},{"id":"API_URL_BASE_PRO","name":"API_URL_BASE_PRO","value":"\"https://api.deepl.com/v2\""}],"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/translator.cr","line_number":13,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L13"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}],"instance_methods":[{"html_id":"api_url_base:String-instance-method","name":"api_url_base","abstract":false,"location":{"filename":"src/deepl/translator.cr","line_number":11,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L11"},"def":{"name":"api_url_base","visibility":"Public","body":"@api_url_base"}},{"html_id":"api_url_document:String-instance-method","name":"api_url_document","abstract":false,"location":{"filename":"src/deepl/translator.cr","line_number":11,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L11"},"def":{"name":"api_url_document","visibility":"Public","body":"@api_url_document"}},{"html_id":"api_url_translate:String-instance-method","name":"api_url_translate","abstract":false,"location":{"filename":"src/deepl/translator.cr","line_number":11,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L11"},"def":{"name":"api_url_translate","visibility":"Public","body":"@api_url_translate"}},{"html_id":"check_status_of_document(did,dkey)-instance-method","name":"check_status_of_document","abstract":false,"args":[{"name":"did","external_name":"did","restriction":""},{"name":"dkey","external_name":"dkey","restriction":""}],"args_string":"(did, dkey)","args_html":"(did, dkey)","location":{"filename":"src/deepl/translator.cr","line_number":143,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L143"},"def":{"name":"check_status_of_document","args":[{"name":"did","external_name":"did","restriction":""},{"name":"dkey","external_name":"dkey","restriction":""}],"visibility":"Public","body":"loop do\n  sleep(10)\n  response = Crest.post(\"#{api_url_document}/#{did}\", form: {\"document_key\" => dkey}, headers: http_headers_for_text)\n  parsed_response = JSON.parse(response.body)\n  STDERR.puts(\"#{if STDERR.tty?\n    \"\\e[2K\\r\"\n  end}[deepl-cli] Status of document : #{parsed_response}\")\n  if (parsed_response.dig(\"status\")) == \"done\"\n    break\n  end\nend"}},{"html_id":"download_document(path,target_lang,did,dkey)-instance-method","name":"download_document","abstract":false,"args":[{"name":"path","external_name":"path","restriction":""},{"name":"target_lang","external_name":"target_lang","restriction":""},{"name":"did","external_name":"did","restriction":""},{"name":"dkey","external_name":"dkey","restriction":""}],"args_string":"(path, target_lang, did, dkey)","args_html":"(path, target_lang, did, dkey)","location":{"filename":"src/deepl/translator.cr","line_number":160,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L160"},"def":{"name":"download_document","args":[{"name":"path","external_name":"path","restriction":""},{"name":"target_lang","external_name":"target_lang","restriction":""},{"name":"did","external_name":"did","restriction":""},{"name":"dkey","external_name":"dkey","restriction":""}],"visibility":"Public","body":"response = Crest.post(\"#{api_url_document}/#{did}/result\", form: {\"document_key\" => dkey}, headers: http_headers_for_text)\nnew_path = path.parent / \"#{path.stem}_#{target_lang}.txt\"\nFile.write(new_path, response.body)\nSTDERR.puts(\"#{if STDERR.tty?\n  \"\\e[2K\\r\"\nend}[deepl-cli] Download #{new_path}\")\n"}},{"html_id":"request_languages(type)-instance-method","name":"request_languages","abstract":false,"args":[{"name":"type","external_name":"type","restriction":""}],"args_string":"(type)","args_html":"(type)","location":{"filename":"src/deepl/translator.cr","line_number":175,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L175"},"def":{"name":"request_languages","args":[{"name":"type","external_name":"type","restriction":""}],"visibility":"Public","body":"Crest.get(\"#{api_url_base}/languages?type=#{type}\", headers: http_headers_for_text)"}},{"html_id":"source_languages-instance-method","name":"source_languages","abstract":false,"location":{"filename":"src/deepl/translator.cr","line_number":184,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L184"},"def":{"name":"source_languages","visibility":"Public","body":"response = request_languages(\"source\")\nparse_languages_response(response)\n"}},{"html_id":"target_languages-instance-method","name":"target_languages","abstract":false,"location":{"filename":"src/deepl/translator.cr","line_number":179,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L179"},"def":{"name":"target_languages","visibility":"Public","body":"response = request_languages(\"target\")\nparse_languages_response(response)\n"}},{"html_id":"translate(option)-instance-method","name":"translate","abstract":false,"args":[{"name":"option","external_name":"option","restriction":""}],"args_string":"(option)","args_html":"(option)","location":{"filename":"src/deepl/translator.cr","line_number":48,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L48"},"def":{"name":"translate","args":[{"name":"option","external_name":"option","restriction":""}],"visibility":"Public","body":"case option.action\nwhen Action::Text\n  translate_text(option.input_text, option.target_lang, option.source_lang, option.formality, option.glossary_id, option.context)\nwhen Action::Document\n  translate_document(option.input_path, option.target_lang, option.source_lang, option.formality, option.glossary_id, option.output_format)\nelse\n  raise(UnknownSubCommandError.new)\nend"}},{"html_id":"translate_document(path,target_lang,source_lang=nil,formality=nil,glossary_id=nil,output_format=nil)-instance-method","name":"translate_document","abstract":false,"args":[{"name":"path","external_name":"path","restriction":""},{"name":"target_lang","external_name":"target_lang","restriction":""},{"name":"source_lang","default_value":"nil","external_name":"source_lang","restriction":""},{"name":"formality","default_value":"nil","external_name":"formality","restriction":""},{"name":"glossary_id","default_value":"nil","external_name":"glossary_id","restriction":""},{"name":"output_format","default_value":"nil","external_name":"output_format","restriction":""}],"args_string":"(path, target_lang, source_lang = nil, formality = nil, glossary_id = nil, output_format = nil)","args_html":"(path, target_lang, source_lang = <span class=\"n\">nil</span>, formality = <span class=\"n\">nil</span>, glossary_id = <span class=\"n\">nil</span>, output_format = <span class=\"n\">nil</span>)","location":{"filename":"src/deepl/translator.cr","line_number":102,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L102"},"def":{"name":"translate_document","args":[{"name":"path","external_name":"path","restriction":""},{"name":"target_lang","external_name":"target_lang","restriction":""},{"name":"source_lang","default_value":"nil","external_name":"source_lang","restriction":""},{"name":"formality","default_value":"nil","external_name":"formality","restriction":""},{"name":"glossary_id","default_value":"nil","external_name":"glossary_id","restriction":""},{"name":"output_format","default_value":"nil","external_name":"output_format","restriction":""}],"visibility":"Public","body":"params = Hash(String, String | File).new\nif source_lang\n  params[\"source_lang\"] = source_lang\nend\nif formality\n  params[\"formality\"] = formality\nend\nparams[\"target_lang\"] = target_lang\nif glossary_id\n  params[\"glossary_id\"] = glossary_id\nend\nif output_format\n  params[\"output_format\"] = output_format\nend\ndid, dkey = upload_document(path, params)\ncheck_status_of_document(did, dkey)\ndownload_document(path, target_lang, did, dkey)\n"}},{"html_id":"translate_text(text,target_lang,source_lang=nil,context_=nil,split_sentences=nil,formality=nil,glossary_id=nil)-instance-method","name":"translate_text","abstract":false,"args":[{"name":"text","external_name":"text","restriction":""},{"name":"target_lang","external_name":"target_lang","restriction":""},{"name":"source_lang","default_value":"nil","external_name":"source_lang","restriction":""},{"name":"context_","default_value":"nil","external_name":"context_","restriction":""},{"name":"split_sentences","default_value":"nil","external_name":"split_sentences","restriction":""},{"name":"formality","default_value":"nil","external_name":"formality","restriction":""},{"name":"glossary_id","default_value":"nil","external_name":"glossary_id","restriction":""}],"args_string":"(text, target_lang, source_lang = nil, context_ = nil, split_sentences = nil, formality = nil, glossary_id = nil)","args_html":"(text, target_lang, source_lang = <span class=\"n\">nil</span>, context_ = <span class=\"n\">nil</span>, split_sentences = <span class=\"n\">nil</span>, formality = <span class=\"n\">nil</span>, glossary_id = <span class=\"n\">nil</span>)","location":{"filename":"src/deepl/translator.cr","line_number":67,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L67"},"def":{"name":"translate_text","args":[{"name":"text","external_name":"text","restriction":""},{"name":"target_lang","external_name":"target_lang","restriction":""},{"name":"source_lang","default_value":"nil","external_name":"source_lang","restriction":""},{"name":"context_","default_value":"nil","external_name":"context_","restriction":""},{"name":"split_sentences","default_value":"nil","external_name":"split_sentences","restriction":""},{"name":"formality","default_value":"nil","external_name":"formality","restriction":""},{"name":"glossary_id","default_value":"nil","external_name":"glossary_id","restriction":""}],"visibility":"Public","body":"params = Hash(String, String | Array(String)).new\nparams[\"text\"] = [text]\nparams[\"target_lang\"] = target_lang\nif source_lang\n  params[\"source_lang\"] = source_lang\nend\nif formality\n  params[\"formality\"] = formality\nend\nif glossary_id\n  params[\"glossary_id\"] = glossary_id\nend\nif context_\n  params[\"context\"] = context_\nend\nif split_sentences\n  params[\"split_sentences\"] = split_sentences\nend\nresponse = Crest.post(api_url_translate, form: params, headers: http_headers_for_text, json: true)\ncase response.status_code\nwhen 456\n  raise(QuotaExceededError.new)\nwhen HTTP::Status::FORBIDDEN\n  raise(AuthorizationError.new)\nwhen HTTP::Status::NOT_FOUND\n  raise(RequestError.new(\"Not found\"))\nwhen HTTP::Status::BAD_REQUEST\n  raise(RequestError.new(\"Bad request\"))\nwhen HTTP::Status::TOO_MANY_REQUESTS\n  raise(TooManyRequestsError.new)\nwhen HTTP::Status::SERVICE_UNAVAILABLE\n  raise(RequestError.new(\"Service unavailable\"))\nend\nparsed_response = JSON.parse(response.body)\nparsed_response.dig(\"translations\", 0, \"text\")\n"}},{"html_id":"upload_document(path,params)-instance-method","name":"upload_document","abstract":false,"args":[{"name":"path","external_name":"path","restriction":""},{"name":"params","external_name":"params","restriction":""}],"args_string":"(path, params)","args_html":"(path, params)","location":{"filename":"src/deepl/translator.cr","line_number":122,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L122"},"def":{"name":"upload_document","args":[{"name":"path","external_name":"path","restriction":""},{"name":"params","external_name":"params","restriction":""}],"visibility":"Public","body":"file = File.open(path)\nparams[\"file\"] = file\nresponse = Crest.post(api_url_document, form: params, headers: http_headers_for_document)\nparsed_response = JSON.parse(response.body)\ndocument_id = parsed_response.dig(\"document_id\")\ndocument_key = parsed_response.dig(\"document_key\")\nSTDERR.puts(\"#{if STDERR.tty?\n  \"\\e[2K\\r\"\nend}[deepl-cli] Uploaded #{path} : #{parsed_response}\")\n[document_id, document_key]\n"}},{"html_id":"usage-instance-method","name":"usage","abstract":false,"location":{"filename":"src/deepl/translator.cr","line_number":193,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/translator.cr#L193"},"def":{"name":"usage","visibility":"Public","body":"response = request_usage\nparse_usage_response(response)\n"}}]},{"html_id":"deepl-cli/DeepL/UnknownSubCommandError","path":"DeepL/UnknownSubCommandError.html","kind":"class","full_name":"DeepL::UnknownSubCommandError","name":"UnknownSubCommandError","abstract":false,"superclass":{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},"ancestors":[{"html_id":"deepl-cli/DeepL/DeepLError","kind":"class","full_name":"DeepL::DeepLError","name":"DeepLError"},{"html_id":"deepl-cli/Exception","kind":"class","full_name":"Exception","name":"Exception"},{"html_id":"deepl-cli/Reference","kind":"class","full_name":"Reference","name":"Reference"},{"html_id":"deepl-cli/Object","kind":"class","full_name":"Object","name":"Object"}],"locations":[{"filename":"src/deepl/exceptions.cr","line_number":64,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L64"}],"repository_name":"deepl-cli","program":false,"enum":false,"alias":false,"const":false,"namespace":{"html_id":"deepl-cli/DeepL","kind":"module","full_name":"DeepL","name":"DeepL"},"constructors":[{"html_id":"new-class-method","name":"new","abstract":false,"location":{"filename":"src/deepl/exceptions.cr","line_number":65,"url":"https://github.com/kojix2/deepl-cli/blob/f524e74112d7079455a42f856078102dbb336606/src/deepl/exceptions.cr#L65"},"def":{"name":"new","visibility":"Public","body":"_ = allocate\n_.initialize\nif _.responds_to?(:finalize)\n  ::GC.add_finalizer(_)\nend\n_\n"}}]}]}]}}